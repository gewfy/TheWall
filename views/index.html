<!DOCTYPE html>
<html>
<head>
  <title>New design</title>
  <link rel="stylesheet" href="/css/main.css">
</head>

<body>
  <span class="publish-all"><a href="#">Publish</a> you have unpublished messages</span>

  <nav>
    <ul>
      <li><a href="#">Layers(<span id="text-messageCount">${messages.length}</span>)</a></li>
      <li><a href="#">Online(<span id="text-clientCount">${clients.length}</span>)</a></li>
    </ul>
  </nav>
  
  <iframe src="/edit" id="edit" allowTransparency="true"></iframe>
  
  <div id="messages">
    {{each(i) messages}}
      {{partial({id: i}) "iframe"}}
    {{/each}}
  </div>
  
  <ul id="contextMenu">
    <li><a href="#text">Add text</a></li>
    <li><a href="#image">Add image</a></li>
    <li><a href="#video">Add video</a></li>
    <li><a href="#draw">Add drawing</a></li>
    <li class="delimited"><a href="#code">Add custom code</a></li>
  </ul>
  
  <script type="text/javascript">
    var app = {
      clientId: '${session.clientId}',
      name:     '${client.name}'
    };
  </script>
  
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
  <script src="/js/jquery-ui-1.8.18.custom.min.js"></script>
  <script src="//ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js" type="text/javascript"></script>
  <script src="/js/faye-browser-min.js"></script>
  <script src="/js/jquery.contextMenu.js"></script>
  <script src="/js/sketchboard.js"></script>
  <script src="/js/global.js"></script>
  
  <script type="text/x-jquery-tmpl" id="tpl-client">
    {{html includeTemplate('views/client.html')}}
  </script>

  <script type="text/x-jquery-tmpl" id="tpl-iframe">
    {{html includeTemplate('views/iframe.html')}}
  </script>
  
  <script type="text/x-jquery-tmpl" id="tpl-image">
    <div class="image message" style="left: ${left}; top: ${top};">
      <div class="toolbox">
        <div class="row">
          <button class="action publish">Publish</button>
          <input type="text" class="url" placeholder="Image url">
          <button class="action cancel">Cancel</button>
        </div>
      </div>
      <div class="input">
      </div>
    </div>
  </script>
  
  <script type="text/x-jquery-tmpl" id="tpl-text">
    <div class="text-editor message" style="left: ${left}; top: ${top};">
      <div class="toolbox">
        <div class="row">
          <button class="action publish">Publish</button>
          <div class="dropdown action">
            <span>Helvetica</span>
            <select class="font-face">
              <option>Satisfy</option>
              <option>Salsa</option>
              <option>Ubuntu Mono</option>
              <option>Arial</option>
              <option selected="selected">Helvetica</option>
            </select>
          </div>
          <div class="dropdown action">
            <span>Medium</span>
            <select class="font-size">
              <option value="1">Tiny</option>
              <option value="3">Small</option>
              <option value="5" selected="selected">Medium</option>
              <option value="7">Large</option>
            </select>
          </div>
          
          <button class="action cancel">Cancel</button>
          <button class="action font-style" rel="bold">B</button>
          <button class="action font-style" rel="italic">I</button>
          <button class="action font-style" rel="underline">U</button>
        </div>
      </div>
      <div class="input">
        <p contenteditable="true"></p>
      </div>
    </div>
  </script>
  
  <script type="text/x-jquery-tmpl" id="tpl-sketchboard">
    <div class="sketchboard message" style="left: ${left}; top: ${top};">
      <div class="toolbox">
        <button class="action publish">Publish</button>
        <button class="action cancel">Cancel</button>
        <!--span class="action grouped">
          <button class="colorpick background"></button>
          <button class="colorpick transparent"><span></span></button>
        </span-->
        
        <span class="action grouped">
          <button class="colorpick foreground"></button>
        </span>
        
        <div class="dropdown action">
          <span>Ribbon</span>
          <select class="brush-style">
            <option value="simple">Simple</option>
            <option value="ribbon" selected="selected">Ribbon</option>
            <option value="circles">Circles</option>
            <option value="longfur">Longfur</option>
            <option value="sketchy">Sketch</option>
            <option value="squares">Squares</option>
            <option value="web">Web</option>
            <option value="chrome">Chrome</option>
          </select>
        </div>
        
        <div class="dropdown action">
          <span>Size 1</span>
          <select class="brush-size">
            <option value="1">Size 1</option>
            <option value="2">Size 2</option>
            <option value="3">Size 3</option>
            <option value="4">Size 4</option>
            <option value="5">Size 5</option>
            <option value="6">Size 6</option>
            <option value="7">Size 7</option>
            <option value="8">Size 8</option>
            <option value="7">Size 9</option>
            <option value="8">Size 10</option>
          </select>
        </div>
      </div>
      <div class="inner">
      
      </div>
    </div>
  </script>

</body>
</html>